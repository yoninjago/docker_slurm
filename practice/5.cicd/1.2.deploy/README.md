## Deploy

В этой части добавляем последний шаг - деплой приложения на хост с Docker. Деплой производится путём выполнения команд с gitlab-runner на стенде по SSH. 

**1. Подготавливаем файл с настройками ci/cd**

Для этого скопируем `.gitlab-ci.yml` в проект `xpaste`, выполнив команду:

```bash
cp ~/docker_course/practice/5.cicd/1.2.deploy/.gitlab-ci.yml ~/xpaste/
```
В нём ничего править не нужно, все значения будут использоваться из переменных в Gitlab.

Сохраняем все изменения и пушим их в репозиторий. Для этого необходимо выполнить команды:
```bash
cd ~/xpaste
git add .gitlab-ci.yml
git commit -am "аdd CI/CD"
git push
```

**2. Проверка результата**

Для проверки результата необходимо перейти в gitlab в раздел `ci/cd -> pipelines` форка проекта xpaste. 
Можно воспользоваться прямой ссылкой: `https://gitlab.slurm.io/sXXXXXX/xpaste/pipelines`. `sXXXXXX` необходимо заменить на номер своего студента.

В результате все 5 job'ов должны закончиться без ошибок.

**3.Открываем приложение в браузере**

В браузере открываем url: `http://xpaste.s<Ваш номер логина>.edu.slurm.io`. `<Ваш номер логина>` необходимо заменить на номер своего студента. Открывать лучше в режиме `инкогнито`, так как современные браузеры без спроса подставляют https:// и потом это запоминают как единственно верный вариант.

Всё готово! Вы только что автоматизировали сборку, тестирование и деплой приложения при помощи Docker и Gitlab.

